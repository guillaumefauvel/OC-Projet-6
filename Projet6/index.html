<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>JustStreamIt!</title>
        <link rel="stylesheet" href="css/style.css">

        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    </head>

    <body>

        <header>
            <div>
                <a class="logo"> JustStreamIt </a>
            </div>
            <nav>
                <ul>
                    <li><a href="">Accueil</a></li>
                    <li><a href="">Catégories</a></li>
                </ul>
            </nav>
        </header>

        <section class="best_film">
            <h2><br>Meilleur film </h2>
            <div class="best_film_layer">Meilleur film selon IMDB</div>
        </section>

        <section class="film_list">
            <h2>Films les mieux nôtés</h2>
            <div class="banniere">Liste de films</div>
        </section> 

        <section class="film_list">
            <h2>Rétrospective - Les films les mieux nôtés des années 90</h2>
            <div class="banniere">Liste de films</div>
        </section> 

        <section class="film_list">
            <h2>Rétrospective - Les meilleurs films avec Nicolas Cage</h2>
            <div class="banniere">Liste de films</div>
        </section> 
        
        <section class="film_list">
            <h2>Les meilleurs films d'aventure</h2>
            <div class="banniere">Liste de films</div>
        </section> 

        <footer>
            <div id="app">
                <button v-on:click="updatePost()"> Mettre à jour</button>
                <ul>
                    <li v-for="post in posts">{{ post }}</li>
                </ul>
            </div>
        
            <script>

                var app = new Vue({
                    el: '#app',
                    data:{
                        posts: ["post 1", "post 2", "post 3"]
                    },
                    methods: {
                        updatePost(){
                            axios.get('http://localhost:8000/api/v1/titles/?year=1999&min_year=&max_year=&imdb_score=&imdb_score_min=&imdb_score_max=&title=&title_contains=&genre=&genre_contains=&sort_by=&director=&director_contains=&writer=&writer_contains=&actor=&actor_contains=&country=&country_contains=&lang=&lang_contains=&company=&company_contains=&rating=&rating_contains=').then( reponse => this.posts = reponse.data).catch(erreur => console.log(erreur));
                        }
                    }
                }
                )
            </script>

        </footer>

    </body>
</html>
